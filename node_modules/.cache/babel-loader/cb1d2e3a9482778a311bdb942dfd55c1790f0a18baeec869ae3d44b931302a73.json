{"ast":null,"code":"var _jsxFileName = \"/Users/ankitahuja/Desktop/React/moviesite/src/Components/MovieSearch.js\",\n  _s = $RefreshSig$();\nimport React, { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { fetchAllMovies } from \"../api\";\nimport Loader from \"./Loader\";\nimport Error from \"./Error\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst MovieSearch = () => {\n  _s();\n  var _filteredMovies, _filteredMovies2, _filteredMovies3, _filteredMovies4;\n  const [input, setInput] = useState();\n  const [currentPage, setCurrentPage] = useState(1);\n  const moviesPerPage = 20;\n\n  // Fetching movies using React Query\n  const {\n    data,\n    isLoading,\n    isError,\n    isFetching\n  } = useQuery({\n    queryKey: [\"movies\"],\n    queryFn: fetchAllMovies\n  });\n\n  // Handle input change\n  const handleSearchChange = e => {\n    setInput(e.target.value);\n    setCurrentPage(1);\n  };\n\n  // Error handling, If unable to fetch Api\n  if (isError) {\n    return /*#__PURE__*/_jsxDEV(Error, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 12\n    }, this);\n  }\n\n  // Filter movies based on search input\n  let filteredMovies = data === null || data === void 0 ? void 0 : data.filter(val => {\n    var _val$title;\n    return (_val$title = val.title) === null || _val$title === void 0 ? void 0 : _val$title.toLowerCase().includes(input === null || input === void 0 ? void 0 : input.toLowerCase());\n  });\n\n  // If no input, show all movies\n  if (((_filteredMovies = filteredMovies) === null || _filteredMovies === void 0 ? void 0 : _filteredMovies.length) === 0 && !input) {\n    filteredMovies = data;\n  }\n\n  // Pagination Logic\n  const totalMovies = (_filteredMovies2 = filteredMovies) === null || _filteredMovies2 === void 0 ? void 0 : _filteredMovies2.length;\n  const totalPages = Math.ceil(totalMovies / moviesPerPage);\n  const currentMovies = (_filteredMovies3 = filteredMovies) === null || _filteredMovies3 === void 0 ? void 0 : _filteredMovies3.slice((currentPage - 1) * moviesPerPage, currentPage * moviesPerPage);\n\n  // Handle page change\n  const handlePageChange = page => {\n    setCurrentPage(page);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"max-w-6xl mx-auto p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-3xl text-white mb-4 text-center\",\n      children: \"Cine Journey \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"mb-4\",\n      children: /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Search for a movie...\",\n        className: \"w-full p-2 rounded bg-gray-700 text-white\",\n        value: input,\n        onChange: handleSearchChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), isLoading || isFetching ? /*#__PURE__*/_jsxDEV(Loader, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: ((_filteredMovies4 = filteredMovies) === null || _filteredMovies4 === void 0 ? void 0 : _filteredMovies4.length) > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\",\n          children: currentMovies.map(movie => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"bg-gray-800 p-4 rounded-lg\",\n            children: [/*#__PURE__*/_jsxDEV(\"img\", {\n              src: `https://image.tmdb.org/t/p/w500${movie.poster_path}`,\n              alt: movie.title,\n              className: \"w-full h-64 object-cover rounded-md\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 75,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"text-xl text-white mt-2\",\n              children: movie.title\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 21\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"mt-1 text-sm text-gray-400 line-clamp-5\",\n              children: movie.overview\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 21\n            }, this)]\n          }, movie.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 19\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-center mt-10 mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 mx-2 bg-gray-600 text-white rounded ${currentPage === 1 ? \"opacity-50 cursor-not-allowed\" : \"\"}`,\n            onClick: () => handlePageChange(currentPage - 1),\n            disabled: currentPage === 1,\n            children: \"Previous\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 90,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex items-center\",\n            children: /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"text-white\",\n              children: [\"Page \", currentPage, \" of \", totalPages]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: `px-4 py-2 mx-2 bg-gray-600 text-white rounded ${currentPage === totalPages ? \"opacity-50 cursor-not-allowed\" : \"\"}`,\n            onClick: () => handlePageChange(currentPage + 1),\n            disabled: currentPage === totalPages,\n            children: \"Next\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 89,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 13\n      }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"text-center text-white \",\n        children: \"No results found.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 13\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 53,\n    columnNumber: 5\n  }, this);\n};\n_s(MovieSearch, \"d+jeOpS2pwQsAcGVU/Fw+gIwCVY=\", false, function () {\n  return [useQuery];\n});\n_c = MovieSearch;\nexport default MovieSearch;\nvar _c;\n$RefreshReg$(_c, \"MovieSearch\");","map":{"version":3,"names":["React","useState","useQuery","fetchAllMovies","Loader","Error","jsxDEV","_jsxDEV","MovieSearch","_s","_filteredMovies","_filteredMovies2","_filteredMovies3","_filteredMovies4","input","setInput","currentPage","setCurrentPage","moviesPerPage","data","isLoading","isError","isFetching","queryKey","queryFn","handleSearchChange","e","target","value","fileName","_jsxFileName","lineNumber","columnNumber","filteredMovies","filter","val","_val$title","title","toLowerCase","includes","length","totalMovies","totalPages","Math","ceil","currentMovies","slice","handlePageChange","page","className","children","type","placeholder","onChange","map","movie","src","poster_path","alt","overview","id","onClick","disabled","_c","$RefreshReg$"],"sources":["/Users/ankitahuja/Desktop/React/moviesite/src/Components/MovieSearch.js"],"sourcesContent":["import React, { useState } from \"react\";\nimport { useQuery } from \"react-query\";\nimport { fetchAllMovies } from \"../api\";\nimport Loader from \"./Loader\";\nimport Error from \"./Error\";\n\nconst MovieSearch = () => {\n  const [input, setInput] = useState();\n  const [currentPage, setCurrentPage] = useState(1);\n  const moviesPerPage = 20;\n\n  // Fetching movies using React Query\n  const { data, isLoading, isError, isFetching } = useQuery({\n    queryKey: [\"movies\"],\n    queryFn: fetchAllMovies,\n  });\n\n  // Handle input change\n  const handleSearchChange = (e) => {\n    setInput(e.target.value);\n    setCurrentPage(1);\n  };\n\n  // Error handling, If unable to fetch Api\n  if (isError) {\n    return <Error />;\n  }\n\n  // Filter movies based on search input\n  let filteredMovies = data?.filter((val) =>\n    val.title?.toLowerCase().includes(input?.toLowerCase())\n  );\n\n  // If no input, show all movies\n  if (filteredMovies?.length === 0 && !input) {\n    filteredMovies = data;\n  }\n\n  // Pagination Logic\n  const totalMovies = filteredMovies?.length;\n  const totalPages = Math.ceil(totalMovies / moviesPerPage);\n  const currentMovies = filteredMovies?.slice(\n    (currentPage - 1) * moviesPerPage,\n    currentPage * moviesPerPage\n  );\n\n  // Handle page change\n  const handlePageChange = (page) => {\n    setCurrentPage(page);\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto p-4\">\n      <h1 className=\"text-3xl text-white mb-4 text-center\">Cine Journey </h1>\n\n      <div className=\"mb-4\">\n        <input\n          type=\"text\"\n          placeholder=\"Search for a movie...\"\n          className=\"w-full p-2 rounded bg-gray-700 text-white\"\n          value={input}\n          onChange={handleSearchChange}\n        />\n      </div>\n\n      {isLoading || isFetching ? (\n        <Loader />\n      ) : (\n        <div>\n          {filteredMovies?.length > 0 ? (\n            <div>\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6\">\n                {currentMovies.map((movie) => (\n                  <div key={movie.id} className=\"bg-gray-800 p-4 rounded-lg\">\n                    <img\n                      src={`https://image.tmdb.org/t/p/w500${movie.poster_path}`}\n                      alt={movie.title}\n                      className=\"w-full h-64 object-cover rounded-md\"\n                    />\n                    <h3 className=\"text-xl text-white mt-2\">{movie.title}</h3>\n                    <p className=\"mt-1 text-sm text-gray-400 line-clamp-5\">\n                      {movie.overview}\n                    </p>\n                  </div>\n                ))}\n              </div>\n\n              {/* Pagination Controls */}\n              <div className=\"flex justify-center mt-10 mb-4\">\n                <button\n                  className={`px-4 py-2 mx-2 bg-gray-600 text-white rounded ${\n                    currentPage === 1 ? \"opacity-50 cursor-not-allowed\" : \"\"\n                  }`}\n                  onClick={() => handlePageChange(currentPage - 1)}\n                  disabled={currentPage === 1}\n                >\n                  Previous\n                </button>\n\n                <div className=\"flex items-center\">\n                  <span className=\"text-white\">\n                    Page {currentPage} of {totalPages}\n                  </span>\n                </div>\n\n                <button\n                  className={`px-4 py-2 mx-2 bg-gray-600 text-white rounded ${\n                    currentPage === totalPages\n                      ? \"opacity-50 cursor-not-allowed\"\n                      : \"\"\n                  }`}\n                  onClick={() => handlePageChange(currentPage + 1)}\n                  disabled={currentPage === totalPages}\n                >\n                  Next\n                </button>\n              </div>\n            </div>\n          ) : (\n            <div className=\"text-center text-white \">No results found.</div>\n          )}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default MovieSearch;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}